{% extends 'base.html' %}

{% block title %}Teacher Sign In - Pine Hills Grammar School{% endblock %}

{% block content %}
<section>
    <h1 class="signin-heading">Teacher Sign In</h1>
    <form id="login-form" method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Sign In</button>
    </form>
    <p class="text-danger" id="error-message" style="display: none;"></p>
    <!-- Add anchor tag for redirection -->
    <a href="{% url 'admin_dashboard' %}" id="admin-link" style="display: none;"></a>
</section>
<script>
    document.querySelector('#login-form').addEventListener('submit', function (event) {
        event.preventDefault();
        // Check if the entered username and password are correct (Superadmin credentials)
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
        if (username === 'Superadmin' && password === 'superadmin_password') {
            // Redirect to the admin panel
            document.getElementById('admin-link').click();
        } else {
            // Show error message
            document.getElementById('error-message').innerHTML =
                'Invalid username or password. Please try again or contact your department at <a href="mailto:info@pinehillsgs.com">info@pinehillsgs.com</a>.';
            document.getElementById('error-message').style.display = 'block';
        }
    });
</script>
{% endblock %}